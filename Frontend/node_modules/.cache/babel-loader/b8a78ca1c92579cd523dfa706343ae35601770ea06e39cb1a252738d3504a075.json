{"ast":null,"code":"import _slicedToArray from\"/home/sunbeam/FinalProject/CDAC_PGMANAGEMENT/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'axios';import React from'react';import{useState}from'react';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ForgotPassword=function ForgotPassword(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newPassword=_useState4[0],setNewPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),otp=_useState6[0],setOtp=_useState6[1];// Function to send OTP\nvar sendOTP=function sendOTP(e){e.preventDefault();axios({method:'post',url:'http://localhost:8080/users/getotpforforgotpass',data:email,headers:{'Content-Type':'application/json'}}).then(function(response){toast.success('Please check your email for the OTP code');console.log('Email sent successfully',response.data);}).catch(function(error){toast.error('Please enter a valid email ID');console.log('Something went wrong',error.response);});};// Function to confirm OTP\nvar confirmOTP=function confirmOTP(e){e.preventDefault();var verifyotpobj={otp:otp,email:email};axios({method:'post',url:'http://localhost:8080/users/verifyotpforforgot',data:verifyotpobj}).then(function(){toast.success('OTP confirmed');console.log('OTP confirmed successfully');}).catch(function(error){toast.error('Please re-enter OTP');console.log('Something went wrong',error.response);});};// Function to save new password\nvar saveForgot=function saveForgot(e){e.preventDefault();var saveForgotObject={email:email,newPassword:newPassword};axios({method:'post',url:'http://localhost:8080/users/storenewpass',data:saveForgotObject,headers:{'Content-Type':'application/json'}}).then(function(){toast.success('Password changed successfully');console.log('Password changed successfully');}).catch(function(error){toast.error(\"Old Password doesn't match\");console.log('Something went wrong',error.response);});};return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid bg-light min-vh-100 d-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card shadow p-4\",style:{width:'400px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",style:{borderColor:'yellow'},children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title\",style:{color:'orange'},children:\"Forgot Password\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"email\",className:\"form-control\",type:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-info btn-block btn-md\",onClick:function onClick(e){return sendOTP(e);},children:\"Send OTP\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"otp\",children:\"OTP:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"otp\",type:\"text\",className:\"form-control\",value:otp,onChange:function onChange(e){return setOtp(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-i btn-block btn-md\",onClick:function onClick(e){return confirmOTP(e);},children:\"Verify OTP\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"New Password:\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"password\",id:\"newPassword\",value:newPassword,onChange:function onChange(e){return setNewPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-success btn-block\",onClick:function onClick(e){return saveForgot(e);},children:\"Change Password\"}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-right\",autoClose:2500,hideProgressBar:false,newestOnTop:false,closeOnClick:true,rtl:false,pauseOnFocusLoss:true,draggable:true,pauseOnHover:true,theme:\"colored\"})]})]})})});};export default ForgotPassword;","map":{"version":3,"names":["axios","React","useState","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","ForgotPassword","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","newPassword","setNewPassword","_useState5","_useState6","otp","setOtp","sendOTP","e","preventDefault","method","url","data","headers","then","response","success","console","log","catch","error","confirmOTP","verifyotpobj","saveForgot","saveForgotObject","className","children","style","width","borderColor","color","id","type","value","onChange","target","onClick","htmlFor","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","theme"],"sources":["/home/sunbeam/FinalProject/CDAC_PGMANAGEMENT/Frontend/src/components/Profile/Forgpas.js"],"sourcesContent":["import axios from 'axios';\nimport React from 'react';\nimport { useState } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst ForgotPassword = () => {\n  const [email, setEmail] = useState('');\n  const [newPassword, setNewPassword] = useState('');\n  const [otp, setOtp] = useState('');\n\n  // Function to send OTP\n  const sendOTP = (e) => {\n    e.preventDefault();\n\n    axios({\n      method: 'post',\n      url: 'http://localhost:8080/users/getotpforforgotpass',\n      data: email,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then((response) => {\n        toast.success('Please check your email for the OTP code');\n        console.log('Email sent successfully', response.data);\n      })\n      .catch((error) => {\n        toast.error('Please enter a valid email ID');\n        console.log('Something went wrong', error.response);\n      });\n  };\n\n  // Function to confirm OTP\n  const confirmOTP = (e) => {\n    e.preventDefault();\n    const verifyotpobj = {\n      otp,\n      email,\n    };\n\n    axios({\n      method: 'post',\n      url: 'http://localhost:8080/users/verifyotpforforgot',\n      data: verifyotpobj,\n    })\n      .then(() => {\n        toast.success('OTP confirmed');\n        console.log('OTP confirmed successfully');\n      })\n      .catch((error) => {\n        toast.error('Please re-enter OTP');\n        console.log('Something went wrong', error.response);\n      });\n  };\n\n  // Function to save new password\n  const saveForgot = (e) => {\n    e.preventDefault();\n    const saveForgotObject = {\n      email,\n      newPassword,\n    };\n\n    axios({\n      method: 'post',\n      url: 'http://localhost:8080/users/storenewpass',\n      data: saveForgotObject,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n      .then(() => {\n        toast.success('Password changed successfully');\n        console.log('Password changed successfully');\n      })\n      .catch((error) => {\n        toast.error(\"Old Password doesn't match\");\n        console.log('Something went wrong', error.response);\n      });\n  };\n\n  return (\n    <div className=\"container-fluid bg-light min-vh-100 d-flex align-items-center justify-content-center\">\n      <div className=\"card shadow p-4\" style={{ width: '400px' }}>\n        <div className=\"card-body\" style={{borderColor:'yellow'}}>\n          <h4 className=\"card-title\" style={{color:'orange'}}>Forgot Password</h4>\n          <form>\n            <div className=\"form-group\">\n              <label>Email:</label>\n              <input\n                id=\"email\"\n                className=\"form-control\"\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n            </div>\n          \n              <button \n              type=\"button\"\n              className=\"btn btn-info btn-block btn-md\"\n              onClick={(e) => sendOTP(e)}\n            >\n              Send OTP\n            </button>\n         \n\n            <div className=\"mb-3\">\n              <label htmlFor=\"otp\">OTP:</label>\n              <input\n                id=\"otp\"\n                type=\"text\"\n                className=\"form-control\"\n                value={otp}\n                onChange={(e) => setOtp(e.target.value)}\n              />\n            </div>\n            <button\n              type=\"button\"\n              className=\"btn btn-i btn-block btn-md\"\n              onClick={(e) => confirmOTP(e)}\n            >\n              Verify OTP\n            </button>\n\n            <div className=\"form-group\">\n              <label>New Password:</label>\n              <input\n                className=\"form-control\"\n                type=\"password\"\n                id=\"newPassword\"\n                value={newPassword}\n                onChange={(e) => setNewPassword(e.target.value)}\n              />\n            </div>\n            <button\n              type=\"button\"\n              className=\"btn btn-success btn-block\"\n              onClick={(e) => saveForgot(e)}\n            >\n              Change Password\n            </button>\n            <ToastContainer\n              position=\"top-right\"\n              autoClose={2500}\n              hideProgressBar={false}\n              newestOnTop={false}\n              closeOnClick\n              rtl={false}\n              pauseOnFocusLoss\n              draggable\n              pauseOnHover\n              theme=\"colored\"\n            />\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ForgotPassword;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}