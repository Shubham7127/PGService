{"ast":null,"code":"import _objectSpread from\"/home/sunbeam/FinalProject/CDAC_PGMANAGEMENT/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/sunbeam/FinalProject/CDAC_PGMANAGEMENT/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import'bootstrap/dist/css/bootstrap.min.css';import{BASE_URL}from'../url';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CitiesChange=function CitiesChange(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),isEditing=_useState4[0],setIsEditing=_useState4[1];useEffect(function(){fetchData();},[]);var fetchData=function fetchData(){axios.get(\"\".concat(BASE_URL,\"/cities\")).then(function(response){setData(response.data);}).catch(function(error){});};var handleEdit=function handleEdit(propertyId){setIsEditing(propertyId);};var handleSave=function handleSave(editedProperty){axios.put('http://65.0.93.12:8080/admin/cities/edit',editedProperty).then(function(){fetchData();}).catch(function(error){});};var handleDelete=function handleDelete(){axios.delete(\"http://65.0.93.12:8080/admin/cities/delete/6\").then(function(){fetchData();}).catch(function(error){console.error('Error deleting data:',error);});};// const containerStyle ={\n//   backgroundImage: \"/pg.webp\"\n// }\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"unique\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\" Cities Listings\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:item.id}),/*#__PURE__*/_jsx(\"td\",{style:{width:\"270px\"},children:isEditing===item.id?/*#__PURE__*/_jsx(\"input\",{style:{width:\"180px\"},type:\"text\",value:item.name,onChange:function onChange(e){return setData(function(prevProperties){return prevProperties.map(function(prevProperty){return prevProperty.id===item.id?_objectSpread(_objectSpread({},prevProperty),{},{name:e.target.value}):prevProperty;});});}}):item.name}),/*#__PURE__*/_jsx(\"td\",{children:isEditing===item.id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary btn-sm\",onClick:function onClick(){return handleSave(item);},children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary btn-sm\",onClick:function onClick(){return setIsEditing(null);},children:\"Cancel\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info btn-sm\",onClick:function onClick(){return handleEdit(item.id);},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm\",onClick:function onClick(){return handleDelete(item.id);},children:\"Delete\"})]})})]},item.id);})})]})]})});};export default CitiesChange;","map":{"version":3,"names":["React","useState","useEffect","axios","BASE_URL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CitiesChange","_useState","_useState2","_slicedToArray","data","setData","_useState3","_useState4","isEditing","setIsEditing","fetchData","get","concat","then","response","catch","error","handleEdit","propertyId","handleSave","editedProperty","put","handleDelete","delete","console","className","children","map","item","id","style","width","type","value","name","onChange","e","prevProperties","prevProperty","_objectSpread","target","onClick"],"sources":["/home/sunbeam/FinalProject/CDAC_PGMANAGEMENT/Frontend/src/components/CitiesChange.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport 'bootstrap/dist/css/bootstrap.min.css'; \nimport { BASE_URL } from '../url';\n\nconst CitiesChange = () => {\n  const [data, setData] = useState([]);\n  const [isEditing, setIsEditing] = useState(null);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = () => {\n    axios\n      .get(`${BASE_URL}/cities`)\n      .then((response) => {\n        setData(response.data);\n      })\n      .catch((error) => {});\n  };\n\n  const handleEdit = (propertyId) => {\n    setIsEditing(propertyId);\n  };\n\n  const handleSave = (editedProperty) => {\n    axios\n      .put('http://65.0.93.12:8080/admin/cities/edit', editedProperty)\n      .then(() => {\n        fetchData();\n      })\n      .catch((error) => {});\n  };\n\n  const handleDelete = () => {\n    axios\n      .delete(`http://65.0.93.12:8080/admin/cities/delete/6`)\n      .then(() => {\n        fetchData();\n      })\n      .catch((error) => {\n        console.error('Error deleting data:', error);\n      });\n  };\n\n  // const containerStyle ={\n  //   backgroundImage: \"/pg.webp\"\n  // }\n\n  return (\n    <div className=\"unique\" >\n    <div className=\"container mt-5\">\n      <br></br>\n      <br></br>\n      <h1 className=\"text-center\"> Cities Listings</h1>\n      <table className=\"table table-bordered table-striped\">\n        <thead className=\"thead-dark\">\n\n          <tr>\n            <th>ID</th>\n            <th>Name</th>\n            <th>Actions</th>\n          </tr>\n        </thead>\n        <tbody>\n          {data.map((item) => (\n            <tr key={item.id} >\n              <td>{item.id}</td>\n              <td style={{width:\"270px\"}}>\n                {isEditing === item.id ? (\n                  <input style={{width:\"180px\"}}\n                    type=\"text\"\n                    value={item.name}\n                    onChange={(e) =>\n                      setData((prevProperties) =>\n                        prevProperties.map((prevProperty) =>\n                          prevProperty.id === item.id\n                            ? { ...prevProperty, name: e.target.value }\n                            : prevProperty\n                        )\n                      )\n                    }\n                  />\n                ) : (\n                  item.name\n                )}\n              </td>   \n              <td>\n                {isEditing === item.id ? (\n                  <>\n                    <button\n                      className=\"btn btn-primary btn-sm\"\n                      onClick={() => handleSave(item)}\n                    >\n                      Update\n                    </button>\n                    <button\n                      className=\"btn btn-secondary btn-sm\"\n                      onClick={() => setIsEditing(null)}\n                    >\n                      Cancel\n                    </button>\n                  </>\n                ) : (\n                  <>\n                    <button\n                      className=\"btn btn-info btn-sm\"\n                      onClick={() => handleEdit(item.id)}\n                    >\n                      Edit\n                    </button> \n\n                    <button\n                      className=\"btn btn-danger btn-sm\"\n                      onClick={() => handleDelete(item.id)}\n                    >\n                      Delete\n                    </button>\n                  </>\n                )}\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n    </div>\n  );\n};\n\nexport default CitiesChange;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}